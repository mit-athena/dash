/*
 *  Imakefile for cview and xcluster
 *  Copyright (c) 1991, Massachusetts Institute of Technology
 *		
 *   $Source: /afs/dev.mit.edu/source/repository/athena/bin/dash/src/xcluster/Imakefile,v $
 *   $Author: cfields $ 
 *
 * Copyright 1990, 1991 by the Massachusetts Institute of Technology. 
 *
 * For copying and distribution information, please see the file
 * <mit-copyright.h>. 
 *
 */

/*
 *#include "mit-copyright.h"
 */

#include "../Xj.defs"

XCLUSTER	=	xcluster
CVIEW		=	cview

RESOURCES	=	Xcluster

#ifdef _AUX_SOURCE
M_LIB		=	-lmalloc
#else
M_LIB		=
#endif

X_OBJS		=	xcluster.o read.o net.o check.o
OBJS		=	cview.o net.o

SRCS		=	xcluster.c read.c net.c check.c cview.c

INCLUDES	=	-I.. ${LOCAL_INCLUDES}

XLIB		=	-lX11
XJLIB		=	../lib/libXj.a
HLIB		=	-lhesiod
LIBS		=	${XJLIB} ${XLIB} ${M_LIB} ${HLIB}

#if defined(ibm032)
DEFINES		=	-DSHAPE -D_BSD -D_BSD_INCLUDES -DAIXV=12
#else
DEFINES		=	-DSHAPE
#endif

AllTarget(${XCLUSTER} ${CVIEW})

NormalProgramTarget(${XCLUSTER},${X_OBJS},,${LOCAL_LIBS},${LIBS})
InstallProgram(${XCLUSTER},${XCLUSTER_BIN_DIR})

NormalProgramTarget(${CVIEW},${OBJS},,${LOCAL_LIBS},${HLIB})
InstallProgram(${CVIEW},${XCLUSTER_BIN_DIR})

InstallNonExec(${CVIEW}.1,${MAN_DIR}/man1/${CVIEW}.1)
InstallNonExec(${XCLUSTER}.1,${MAN_DIR}/man1/${XCLUSTER}.1)
InstallNonExec(${RESOURCES},${XCLUSTER_APP_DIR}/${RESOURCES})

DependTarget()
